"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/prosemirror-schema-list";
exports.ids = ["vendor-chunks/prosemirror-schema-list"];
exports.modules = {

/***/ "(ssr)/./node_modules/prosemirror-schema-list/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/prosemirror-schema-list/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addListNodes: () => (/* binding */ addListNodes),\n/* harmony export */   bulletList: () => (/* binding */ bulletList),\n/* harmony export */   liftListItem: () => (/* binding */ liftListItem),\n/* harmony export */   listItem: () => (/* binding */ listItem),\n/* harmony export */   orderedList: () => (/* binding */ orderedList),\n/* harmony export */   sinkListItem: () => (/* binding */ sinkListItem),\n/* harmony export */   splitListItem: () => (/* binding */ splitListItem),\n/* harmony export */   splitListItemKeepMarks: () => (/* binding */ splitListItemKeepMarks),\n/* harmony export */   wrapInList: () => (/* binding */ wrapInList),\n/* harmony export */   wrapRangeInList: () => (/* binding */ wrapRangeInList)\n/* harmony export */ });\n/* harmony import */ var prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prosemirror-transform */ \"(ssr)/./node_modules/prosemirror-transform/dist/index.js\");\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-model */ \"(ssr)/./node_modules/prosemirror-model/dist/index.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n\n\n\nvar olDOM = [\"ol\", 0],\n  ulDOM = [\"ul\", 0],\n  liDOM = [\"li\", 0];\n/**\nAn ordered list [node spec](https://prosemirror.net/docs/ref/#model.NodeSpec). Has a single\nattribute, `order`, which determines the number at which the list\nstarts counting, and defaults to 1. Represented as an `<ol>`\nelement.\n*/\nvar orderedList = {\n  attrs: {\n    order: {\n      \"default\": 1,\n      validate: \"number\"\n    }\n  },\n  parseDOM: [{\n    tag: \"ol\",\n    getAttrs: function getAttrs(dom) {\n      return {\n        order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1\n      };\n    }\n  }],\n  toDOM: function toDOM(node) {\n    return node.attrs.order == 1 ? olDOM : [\"ol\", {\n      start: node.attrs.order\n    }, 0];\n  }\n};\n/**\nA bullet list node spec, represented in the DOM as `<ul>`.\n*/\nvar bulletList = {\n  parseDOM: [{\n    tag: \"ul\"\n  }],\n  toDOM: function toDOM() {\n    return ulDOM;\n  }\n};\n/**\nA list item (`<li>`) spec.\n*/\nvar listItem = {\n  parseDOM: [{\n    tag: \"li\"\n  }],\n  toDOM: function toDOM() {\n    return liDOM;\n  },\n  defining: true\n};\nfunction add(obj, props) {\n  var copy = {};\n  for (var prop in obj) copy[prop] = obj[prop];\n  for (var _prop in props) copy[_prop] = props[_prop];\n  return copy;\n}\n/**\nConvenience function for adding list-related node types to a map\nspecifying the nodes for a schema. Adds\n[`orderedList`](https://prosemirror.net/docs/ref/#schema-list.orderedList) as `\"ordered_list\"`,\n[`bulletList`](https://prosemirror.net/docs/ref/#schema-list.bulletList) as `\"bullet_list\"`, and\n[`listItem`](https://prosemirror.net/docs/ref/#schema-list.listItem) as `\"list_item\"`.\n\n`itemContent` determines the content expression for the list items.\nIf you want the commands defined in this module to apply to your\nlist structure, it should have a shape like `\"paragraph block*\"` or\n`\"paragraph (ordered_list | bullet_list)*\"`. `listGroup` can be\ngiven to assign a group name to the list node types, for example\n`\"block\"`.\n*/\nfunction addListNodes(nodes, itemContent, listGroup) {\n  return nodes.append({\n    ordered_list: add(orderedList, {\n      content: \"list_item+\",\n      group: listGroup\n    }),\n    bullet_list: add(bulletList, {\n      content: \"list_item+\",\n      group: listGroup\n    }),\n    list_item: add(listItem, {\n      content: itemContent\n    })\n  });\n}\n/**\nReturns a command function that wraps the selection in a list with\nthe given type an attributes. If `dispatch` is null, only return a\nvalue to indicate whether this is possible, but don't actually\nperform the change.\n*/\nfunction wrapInList(listType) {\n  var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return function (state, dispatch) {\n    var _state$selection = state.selection,\n      $from = _state$selection.$from,\n      $to = _state$selection.$to;\n    var range = $from.blockRange($to);\n    if (!range) return false;\n    var tr = dispatch ? state.tr : null;\n    if (!wrapRangeInList(tr, range, listType, attrs)) return false;\n    if (dispatch) dispatch(tr.scrollIntoView());\n    return true;\n  };\n}\n/**\nTry to wrap the given node range in a list of the given type.\nReturn `true` when this is possible, `false` otherwise. When `tr`\nis non-null, the wrapping is added to that transaction. When it is\n`null`, the function only queries whether the wrapping is\npossible.\n*/\nfunction wrapRangeInList(tr, range, listType) {\n  var attrs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var doJoin = false,\n    outerRange = range,\n    doc = range.$from.doc;\n  // This is at the top of an existing list item\n  if (range.depth >= 2 && range.$from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {\n    // Don't do anything if this is the top of the list\n    if (range.$from.index(range.depth - 1) == 0) return false;\n    var $insert = doc.resolve(range.start - 2);\n    outerRange = new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeRange($insert, $insert, range.depth);\n    if (range.endIndex < range.parent.childCount) range = new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeRange(range.$from, doc.resolve(range.$to.end(range.depth)), range.depth);\n    doJoin = true;\n  }\n  var wrap = (0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.findWrapping)(outerRange, listType, attrs, range);\n  if (!wrap) return false;\n  if (tr) doWrapInList(tr, range, wrap, doJoin, listType);\n  return true;\n}\nfunction doWrapInList(tr, range, wrappers, joinBefore, listType) {\n  var content = prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty;\n  for (var i = wrappers.length - 1; i >= 0; i--) content = prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n  tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end, new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice(content, 0, 0), wrappers.length, true));\n  var found = 0;\n  for (var _i = 0; _i < wrappers.length; _i++) if (wrappers[_i].type == listType) found = _i + 1;\n  var splitDepth = wrappers.length - found;\n  var splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0),\n    parent = range.parent;\n  for (var _i2 = range.startIndex, e = range.endIndex, first = true; _i2 < e; _i2++, first = false) {\n    if (!first && (0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.canSplit)(tr.doc, splitPos, splitDepth)) {\n      tr.split(splitPos, splitDepth);\n      splitPos += 2 * splitDepth;\n    }\n    splitPos += parent.child(_i2).nodeSize;\n  }\n  return tr;\n}\n/**\nBuild a command that splits a non-empty textblock at the top level\nof a list item by also splitting that list item.\n*/\nfunction splitListItem(itemType, itemAttrs) {\n  return function (state, dispatch) {\n    var _state$selection2 = state.selection,\n      $from = _state$selection2.$from,\n      $to = _state$selection2.$to,\n      node = _state$selection2.node;\n    if (node && node.isBlock || $from.depth < 2 || !$from.sameParent($to)) return false;\n    var grandParent = $from.node(-1);\n    if (grandParent.type != itemType) return false;\n    if ($from.parent.content.size == 0 && $from.node(-1).childCount == $from.indexAfter(-1)) {\n      // In an empty block. If this is a nested list, the wrapping\n      // list item should be split. Otherwise, bail out and let next\n      // command handle lifting.\n      if ($from.depth == 3 || $from.node(-3).type != itemType || $from.index(-2) != $from.node(-2).childCount - 1) return false;\n      if (dispatch) {\n        var wrap = prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty;\n        var depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n        // Build a fragment containing empty versions of the structure\n        // from the outer list item to the parent node of the cursor\n        for (var d = $from.depth - depthBefore; d >= $from.depth - 3; d--) wrap = prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from($from.node(d).copy(wrap));\n        var depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n        // Add a second list item with an empty default start node\n        wrap = wrap.append(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(itemType.createAndFill()));\n        var start = $from.before($from.depth - (depthBefore - 1));\n        var _tr = state.tr.replace(start, $from.after(-depthAfter), new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice(wrap, 4 - depthBefore, 0));\n        var sel = -1;\n        _tr.doc.nodesBetween(start, _tr.doc.content.size, function (node, pos) {\n          if (sel > -1) return false;\n          if (node.isTextblock && node.content.size == 0) sel = pos + 1;\n        });\n        if (sel > -1) _tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_2__.Selection.near(_tr.doc.resolve(sel)));\n        dispatch(_tr.scrollIntoView());\n      }\n      return true;\n    }\n    var nextType = $to.pos == $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n    var tr = state.tr[\"delete\"]($from.pos, $to.pos);\n    var types = nextType ? [itemAttrs ? {\n      type: itemType,\n      attrs: itemAttrs\n    } : null, {\n      type: nextType\n    }] : undefined;\n    if (!(0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.canSplit)(tr.doc, $from.pos, 2, types)) return false;\n    if (dispatch) dispatch(tr.split($from.pos, 2, types).scrollIntoView());\n    return true;\n  };\n}\n/**\nActs like [`splitListItem`](https://prosemirror.net/docs/ref/#schema-list.splitListItem), but\nwithout resetting the set of active marks at the cursor.\n*/\nfunction splitListItemKeepMarks(itemType, itemAttrs) {\n  var split = splitListItem(itemType, itemAttrs);\n  return function (state, dispatch) {\n    return split(state, dispatch && function (tr) {\n      var marks = state.storedMarks || state.selection.$to.parentOffset && state.selection.$from.marks();\n      if (marks) tr.ensureMarks(marks);\n      dispatch(tr);\n    });\n  };\n}\n/**\nCreate a command to lift the list item around the selection up into\na wrapping list.\n*/\nfunction liftListItem(itemType) {\n  return function (state, dispatch) {\n    var _state$selection3 = state.selection,\n      $from = _state$selection3.$from,\n      $to = _state$selection3.$to;\n    var range = $from.blockRange($to, function (node) {\n      return node.childCount > 0 && node.firstChild.type == itemType;\n    });\n    if (!range) return false;\n    if (!dispatch) return true;\n    if ($from.node(range.depth - 1).type == itemType)\n      // Inside a parent list\n      return liftToOuterList(state, dispatch, itemType, range);else\n      // Outer list node\n      return liftOutOfList(state, dispatch, range);\n  };\n}\nfunction liftToOuterList(state, dispatch, itemType, range) {\n  var tr = state.tr,\n    end = range.end,\n    endOfList = range.$to.end(range.depth);\n  if (end < endOfList) {\n    // There are siblings after the lifted items, which must become\n    // children of the last item\n    tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.ReplaceAroundStep(end - 1, endOfList, end, endOfList, new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));\n    range = new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);\n  }\n  var target = (0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.liftTarget)(range);\n  if (target == null) return false;\n  tr.lift(range, target);\n  var $after = tr.doc.resolve(tr.mapping.map(end, -1) - 1);\n  if ((0,prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.canJoin)(tr.doc, $after.pos) && $after.nodeBefore.type == $after.nodeAfter.type) tr.join($after.pos);\n  dispatch(tr.scrollIntoView());\n  return true;\n}\nfunction liftOutOfList(state, dispatch, range) {\n  var tr = state.tr,\n    list = range.parent;\n  // Merge the list items into a single big item\n  for (var pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {\n    pos -= list.child(i).nodeSize;\n    tr[\"delete\"](pos - 1, pos + 1);\n  }\n  var $start = tr.doc.resolve(range.start),\n    item = $start.nodeAfter;\n  if (tr.mapping.map(range.end) != range.start + $start.nodeAfter.nodeSize) return false;\n  var atStart = range.startIndex == 0,\n    atEnd = range.endIndex == list.childCount;\n  var parent = $start.node(-1),\n    indexBefore = $start.index(-1);\n  if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1, item.content.append(atEnd ? prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty : prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(list)))) return false;\n  var start = $start.pos,\n    end = start + item.nodeSize;\n  // Strip off the surrounding list. At the sides where we're not at\n  // the end of the list, the existing list is closed. At sides where\n  // this is the end, it is overwritten to its end.\n  tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1, new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice((atStart ? prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty : prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(list.copy(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty))).append(atEnd ? prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty : prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(list.copy(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.empty))), atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));\n  dispatch(tr.scrollIntoView());\n  return true;\n}\n/**\nCreate a command to sink the list item around the selection down\ninto an inner list.\n*/\nfunction sinkListItem(itemType) {\n  return function (state, dispatch) {\n    var _state$selection4 = state.selection,\n      $from = _state$selection4.$from,\n      $to = _state$selection4.$to;\n    var range = $from.blockRange($to, function (node) {\n      return node.childCount > 0 && node.firstChild.type == itemType;\n    });\n    if (!range) return false;\n    var startIndex = range.startIndex;\n    if (startIndex == 0) return false;\n    var parent = range.parent,\n      nodeBefore = parent.child(startIndex - 1);\n    if (nodeBefore.type != itemType) return false;\n    if (dispatch) {\n      var nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;\n      var inner = prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(nestedBefore ? itemType.create() : null);\n      var slice = new prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(itemType.create(null, prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment.from(parent.type.create(null, inner)))), nestedBefore ? 3 : 1, 0);\n      var before = range.start,\n        after = range.end;\n      dispatch(state.tr.step(new prosemirror_transform__WEBPACK_IMPORTED_MODULE_1__.ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after, before, after, slice, 1, true)).scrollIntoView());\n    }\n    return true;\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3Itc2NoZW1hLWxpc3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXVHO0FBQ3hDO0FBQ2pCO0FBRTlDLElBQU1TLEtBQUssR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7RUFBRUMsS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztFQUFFQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1DLFdBQVcsR0FBRztFQUNoQkMsS0FBSyxFQUFFO0lBQUVDLEtBQUssRUFBRTtNQUFFLFdBQVMsQ0FBQztNQUFFQyxRQUFRLEVBQUU7SUFBUztFQUFFLENBQUM7RUFDcERDLFFBQVEsRUFBRSxDQUFDO0lBQUVDLEdBQUcsRUFBRSxJQUFJO0lBQUVDLFFBQVEsV0FBUkEsUUFBUUEsQ0FBQ0MsR0FBRyxFQUFFO01BQzFCLE9BQU87UUFBRUwsS0FBSyxFQUFFSyxHQUFHLENBQUNDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDRCxHQUFHLENBQUNFLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRztNQUFFLENBQUM7SUFDaEY7RUFBRSxDQUFDLENBQUM7RUFDWkMsS0FBSyxXQUFMQSxLQUFLQSxDQUFDQyxJQUFJLEVBQUU7SUFDUixPQUFPQSxJQUFJLENBQUNWLEtBQUssQ0FBQ0MsS0FBSyxJQUFJLENBQUMsR0FBR0wsS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFO01BQUVlLEtBQUssRUFBRUQsSUFBSSxDQUFDVixLQUFLLENBQUNDO0lBQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUNqRjtBQUNKLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxJQUFNVyxVQUFVLEdBQUc7RUFDZlQsUUFBUSxFQUFFLENBQUM7SUFBRUMsR0FBRyxFQUFFO0VBQUssQ0FBQyxDQUFDO0VBQ3pCSyxL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QUFJLElBQUlPLE1BQU0sQ0FBQ1AsSUFBSTtNQUNuRixJQUFJbUYsS0FBSyxHQUFHNUksdURBQVEsQ0FBQ3lFLElBQUksQ0FBQ2lFLFlBQVksR0FBR3JELFFBQVEsQ0FBQ1gsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7TUFDbEUsSUFBSW1FLEtBQUssR0FBRyxJQUFJNUksb0RBQUssQ0FBQ0QsdURBQVEsQ0FBQ3lFLElBQUksQ0FBQ1ksUUFBUSxDQUFDWCxNQUFNLENBQUMsSUFBSSxFQUFFMUUsdURBQVEsQ0FBQ3lFLElBQUksQ0FBQ1QsTUFBTSxDQUFDUCxJQUFJLENBQUNpQixNQUFNLENBQUMsSUFBSSxFQUFFa0UsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUVGLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUNwSSxJQUFJekMsTUFBTSxHQUFHakQsS0FBSyxDQUFDOUIsS0FBSztRQUFFaUYsS0FBSyxHQUFHbkQsS0FBSyxDQUFDa0IsR0FBRztNQUMzQ3ZCLFFBQVEsQ0FBQ0QsS0FBSyxDQUFDUSxFQUFFLENBQUN5QixJQUFJLENBQUMsSUFBSWhGLG9FQUFpQixDQUFDc0csTUFBTSxJQUFJeUMsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRXZDLEtBQUssRUFBRUYsTUFBTSxFQUFFRSxLQUFLLEVBQUUwQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQy9HekYsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUMxQjtJQUNBLE9BQU8sSUFBSTtFQUNmLENBQUM7QUFDTCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxpbnN0aW5jdGh1YlxcY29kZV9wcm9qZWN0c1xcbnBtXFxpbnN0aW5jdGh1Yi1yZWFjdC11aVxcbm9kZV9tb2R1bGVzXFxwcm9zZW1pcnJvci1zY2hlbWEtbGlzdFxcZGlzdFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmluZFdyYXBwaW5nLCBSZXBsYWNlQXJvdW5kU3RlcCwgY2FuU3BsaXQsIGxpZnRUYXJnZXQsIGNhbkpvaW4gfSBmcm9tICdwcm9zZW1pcnJvci10cmFuc2Zvcm0nO1xuaW1wb3J0IHsgTm9kZVJhbmdlLCBGcmFnbWVudCwgU2xpY2UgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5pbXBvcnQgeyBTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5cbmNvbnN0IG9sRE9NID0gW1wib2xcIiwgMF0sIHVsRE9NID0gW1widWxcIiwgMF0sIGxpRE9NID0gW1wibGlcIiwgMF07XG4vKipcbkFuIG9yZGVyZWQgbGlzdCBbbm9kZSBzcGVjXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jbW9kZWwuTm9kZVNwZWMpLiBIYXMgYSBzaW5nbGVcbmF0dHJpYnV0ZSwgYG9yZGVyYCwgd2hpY2ggZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIGF0IHdoaWNoIHRoZSBsaXN0XG5zdGFydHMgY291bnRpbmcsIGFuZCBkZWZhdWx0cyB0byAxLiBSZXByZXNlbnRlZCBhcyBhbiBgPG9sPmBcbmVsZW1lbnQuXG4qL1xuY29uc3Qgb3JkZXJlZExpc3QgPSB7XG4gICAgYXR0cnM6IHsgb3JkZXI6IHsgZGVmYXVsdDogMSwgdmFsaWRhdGU6IFwibnVtYmVyXCIgfSB9LFxuICAgIHBhcnNlRE9NOiBbeyB0YWc6IFwib2xcIiwgZ2V0QXR0cnMoZG9tKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb3JkZXI6IGRvbS5oYXNBdHRyaWJ1dGUoXCJzdGFydFwiKSA/ICtkb20uZ2V0QXR0cmlidXRlKFwic3RhcnRcIikgOiAxIH07XG4gICAgICAgICAgICB9IH1dLFxuICAgIHRvRE9NKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuYXR0cnMub3JkZXIgPT0gMSA/IG9sRE9NIDogW1wib2xcIiwgeyBzdGFydDogbm9kZS5hdHRycy5vcmRlciB9LCAwXTtcbiAgICB9XG59O1xuLyoqXG5BIGJ1bGxldCBsaXN0IG5vZGUgc3BlYywgcmVwcmVzZW50ZWQgaW4gdGhlIERPTSBhcyBgPHVsPmAuXG4qL1xuY29uc3QgYnVsbGV0TGlzdCA9IHtcbiAgICBwYXJzZURPTTogW3sgdGFnOiBcInVsXCIgfV0sXG4gICAgdG9ET00oKSB7IHJldHVybiB1bERPTTsgfVxufTtcbi8qKlxuQSBsaXN0IGl0ZW0gKGA8bGk+YCkgc3BlYy5cbiovXG5jb25zdCBsaXN0SXRlbSA9IHtcbiAgICBwYXJzZURPTTogW3sgdGFnOiBcImxpXCIgfV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBsaURPTTsgfSxcbiAgICBkZWZpbmluZzogdHJ1ZVxufTtcbmZ1bmN0aW9uIGFkZChvYmosIHByb3BzKSB7XG4gICAgbGV0IGNvcHkgPSB7fTtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iailcbiAgICAgICAgY29weVtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKVxuICAgICAgICBjb3B5W3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgcmV0dXJuIGNvcHk7XG59XG4vKipcbkNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBhZGRpbmcgbGlzdC1yZWxhdGVkIG5vZGUgdHlwZXMgdG8gYSBtYXBcbnNwZWNpZnlpbmcgdGhlIG5vZGVzIGZvciBhIHNjaGVtYS4gQWRkc1xuW2BvcmRlcmVkTGlzdGBdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyNzY2hlbWEtbGlzdC5vcmRlcmVkTGlzdCkgYXMgYFwib3JkZXJlZF9saXN0XCJgLFxuW2BidWxsZXRMaXN0YF0oaHR0cHM6Ly9wcm9zZW1pcnJvci5uZXQvZG9jcy9yZWYvI3NjaGVtYS1saXN0LmJ1bGxldExpc3QpIGFzIGBcImJ1bGxldF9saXN0XCJgLCBhbmRcbltgbGlzdEl0ZW1gXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jc2NoZW1hLWxpc3QubGlzdEl0ZW0pIGFzIGBcImxpc3RfaXRlbVwiYC5cblxuYGl0ZW1Db250ZW50YCBkZXRlcm1pbmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24gZm9yIHRoZSBsaXN0IGl0ZW1zLlxuSWYgeW91IHdhbnQgdGhlIGNvbW1hbmRzIGRlZmluZWQgaW4gdGhpcyBtb2R1bGUgdG8gYXBwbHkgdG8geW91clxubGlzdCBzdHJ1Y3R1cmUsIGl0IHNob3VsZCBoYXZlIGEgc2hhcGUgbGlrZSBgXCJwYXJhZ3JhcGggYmxvY2sqXCJgIG9yXG5gXCJwYXJhZ3JhcGggKG9yZGVyZWRfbGlzdCB8IGJ1bGxldF9saXN0KSpcImAuIGBsaXN0R3JvdXBgIGNhbiBiZVxuZ2l2ZW4gdG8gYXNzaWduIGEgZ3JvdXAgbmFtZSB0byB0aGUgbGlzdCBub2RlIHR5cGVzLCBmb3IgZXhhbXBsZVxuYFwiYmxvY2tcImAuXG4qL1xuZnVuY3Rpb24gYWRkTGlzdE5vZGVzKG5vZGVzLCBpdGVtQ29udGVudCwgbGlzdEdyb3VwKSB7XG4gICAgcmV0dXJuIG5vZGVzLmFwcGVuZCh7XG4gICAgICAgIG9yZGVyZWRfbGlzdDogYWRkKG9yZGVyZWRMaXN0LCB7IGNvbnRlbnQ6IFwibGlzdF9pdGVtK1wiLCBncm91cDogbGlzdEdyb3VwIH0pLFxuICAgICAgICBidWxsZXRfbGlzdDogYWRkKGJ1bGxldExpc3QsIHsgY29udGVudDogXCJsaXN0X2l0ZW0rXCIsIGdyb3VwOiBsaXN0R3JvdXAgfSksXG4gICAgICAgIGxpc3RfaXRlbTogYWRkKGxpc3RJdGVtLCB7IGNvbnRlbnQ6IGl0ZW1Db250ZW50IH0pXG4gICAgfSk7XG59XG4vKipcblJldHVybnMgYSBjb21tYW5kIGZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIHNlbGVjdGlvbiBpbiBhIGxpc3Qgd2l0aFxudGhlIGdpdmVuIHR5cGUgYW4gYXR0cmlidXRlcy4gSWYgYGRpc3BhdGNoYCBpcyBudWxsLCBvbmx5IHJldHVybiBhXG52YWx1ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgaXMgcG9zc2libGUsIGJ1dCBkb24ndCBhY3R1YWxseVxucGVyZm9ybSB0aGUgY2hhbmdlLlxuKi9cbmZ1bmN0aW9uIHdyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJzID0gbnVsbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgICAgIGxldCB7ICRmcm9tLCAkdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICAgICAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pO1xuICAgICAgICBpZiAoIXJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgdHIgPSBkaXNwYXRjaCA/IHN0YXRlLnRyIDogbnVsbDtcbiAgICAgICAgaWYgKCF3cmFwUmFuZ2VJbkxpc3QodHIsIHJhbmdlLCBsaXN0VHlwZSwgYXR0cnMpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoZGlzcGF0Y2gpXG4gICAgICAgICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuVHJ5IHRvIHdyYXAgdGhlIGdpdmVuIG5vZGUgcmFuZ2UgaW4gYSBsaXN0IG9mIHRoZSBnaXZlbiB0eXBlLlxuUmV0dXJuIGB0cnVlYCB3aGVuIHRoaXMgaXMgcG9zc2libGUsIGBmYWxzZWAgb3RoZXJ3aXNlLiBXaGVuIGB0cmBcbmlzIG5vbi1udWxsLCB0aGUgd3JhcHBpbmcgaXMgYWRkZWQgdG8gdGhhdCB0cmFuc2FjdGlvbi4gV2hlbiBpdCBpc1xuYG51bGxgLCB0aGUgZnVuY3Rpb24gb25seSBxdWVyaWVzIHdoZXRoZXIgdGhlIHdyYXBwaW5nIGlzXG5wb3NzaWJsZS5cbiovXG5mdW5jdGlvbiB3cmFwUmFuZ2VJbkxpc3QodHIsIHJhbmdlLCBsaXN0VHlwZSwgYXR0cnMgPSBudWxsKSB7XG4gICAgbGV0IGRvSm9pbiA9IGZhbHNlLCBvdXRlclJhbmdlID0gcmFuZ2UsIGRvYyA9IHJhbmdlLiRmcm9tLmRvYztcbiAgICAvLyBUaGlzIGlzIGF0IHRoZSB0b3Agb2YgYW4gZXhpc3RpbmcgbGlzdCBpdGVtXG4gICAgaWYgKHJhbmdlLmRlcHRoID49IDIgJiYgcmFuZ2UuJGZyb20ubm9kZShyYW5nZS5kZXB0aCAtIDEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQobGlzdFR5cGUpICYmIHJhbmdlLnN0YXJ0SW5kZXggPT0gMCkge1xuICAgICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzIHRoZSB0b3Agb2YgdGhlIGxpc3RcbiAgICAgICAgaWYgKHJhbmdlLiRmcm9tLmluZGV4KHJhbmdlLmRlcHRoIC0gMSkgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0ICRpbnNlcnQgPSBkb2MucmVzb2x2ZShyYW5nZS5zdGFydCAtIDIpO1xuICAgICAgICBvdXRlclJhbmdlID0gbmV3IE5vZGVSYW5nZSgkaW5zZXJ0LCAkaW5zZXJ0LCByYW5nZS5kZXB0aCk7XG4gICAgICAgIGlmIChyYW5nZS5lbmRJbmRleCA8IHJhbmdlLnBhcmVudC5jaGlsZENvdW50KVxuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgTm9kZVJhbmdlKHJhbmdlLiRmcm9tLCBkb2MucmVzb2x2ZShyYW5nZS4kdG8uZW5kKHJhbmdlLmRlcHRoKSksIHJhbmdlLmRlcHRoKTtcbiAgICAgICAgZG9Kb2luID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHdyYXAgPSBmaW5kV3JhcHBpbmcob3V0ZXJSYW5nZSwgbGlzdFR5cGUsIGF0dHJzLCByYW5nZSk7XG4gICAgaWYgKCF3cmFwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRyKVxuICAgICAgICBkb1dyYXBJbkxpc3QodHIsIHJhbmdlLCB3cmFwLCBkb0pvaW4sIGxpc3RUeXBlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRvV3JhcEluTGlzdCh0ciwgcmFuZ2UsIHdyYXBwZXJzLCBqb2luQmVmb3JlLCBsaXN0VHlwZSkge1xuICAgIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZW1wdHk7XG4gICAgZm9yIChsZXQgaSA9IHdyYXBwZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh3cmFwcGVyc1tpXS50eXBlLmNyZWF0ZSh3cmFwcGVyc1tpXS5hdHRycywgY29udGVudCkpO1xuICAgIHRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHJhbmdlLnN0YXJ0IC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHJhbmdlLmVuZCwgcmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCwgbmV3IFNsaWNlKGNvbnRlbnQsIDAsIDApLCB3cmFwcGVycy5sZW5ndGgsIHRydWUpKTtcbiAgICBsZXQgZm91bmQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd3JhcHBlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICh3cmFwcGVyc1tpXS50eXBlID09IGxpc3RUeXBlKVxuICAgICAgICAgICAgZm91bmQgPSBpICsgMTtcbiAgICBsZXQgc3BsaXREZXB0aCA9IHdyYXBwZXJzLmxlbmd0aCAtIGZvdW5kO1xuICAgIGxldCBzcGxpdFBvcyA9IHJhbmdlLnN0YXJ0ICsgd3JhcHBlcnMubGVuZ3RoIC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHBhcmVudCA9IHJhbmdlLnBhcmVudDtcbiAgICBmb3IgKGxldCBpID0gcmFuZ2Uuc3RhcnRJbmRleCwgZSA9IHJhbmdlLmVuZEluZGV4LCBmaXJzdCA9IHRydWU7IGkgPCBlOyBpKyssIGZpcnN0ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFmaXJzdCAmJiBjYW5TcGxpdCh0ci5kb2MsIHNwbGl0UG9zLCBzcGxpdERlcHRoKSkge1xuICAgICAgICAgICAgdHIuc3BsaXQoc3BsaXRQb3MsIHNwbGl0RGVwdGgpO1xuICAgICAgICAgICAgc3BsaXRQb3MgKz0gMiAqIHNwbGl0RGVwdGg7XG4gICAgICAgIH1cbiAgICAgICAgc3BsaXRQb3MgKz0gcGFyZW50LmNoaWxkKGkpLm5vZGVTaXplO1xuICAgIH1cbiAgICByZXR1cm4gdHI7XG59XG4vKipcbkJ1aWxkIGEgY29tbWFuZCB0aGF0IHNwbGl0cyBhIG5vbi1lbXB0eSB0ZXh0YmxvY2sgYXQgdGhlIHRvcCBsZXZlbFxub2YgYSBsaXN0IGl0ZW0gYnkgYWxzbyBzcGxpdHRpbmcgdGhhdCBsaXN0IGl0ZW0uXG4qL1xuZnVuY3Rpb24gc3BsaXRMaXN0SXRlbShpdGVtVHlwZSwgaXRlbUF0dHJzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICAgICAgbGV0IHsgJGZyb20sICR0bywgbm9kZSB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoKG5vZGUgJiYgbm9kZS5pc0Jsb2NrKSB8fCAkZnJvbS5kZXB0aCA8IDIgfHwgISRmcm9tLnNhbWVQYXJlbnQoJHRvKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGdyYW5kUGFyZW50ID0gJGZyb20ubm9kZSgtMSk7XG4gICAgICAgIGlmIChncmFuZFBhcmVudC50eXBlICE9IGl0ZW1UeXBlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoJGZyb20ucGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwICYmICRmcm9tLm5vZGUoLTEpLmNoaWxkQ291bnQgPT0gJGZyb20uaW5kZXhBZnRlcigtMSkpIHtcbiAgICAgICAgICAgIC8vIEluIGFuIGVtcHR5IGJsb2NrLiBJZiB0aGlzIGlzIGEgbmVzdGVkIGxpc3QsIHRoZSB3cmFwcGluZ1xuICAgICAgICAgICAgLy8gbGlzdCBpdGVtIHNob3VsZCBiZSBzcGxpdC4gT3RoZXJ3aXNlLCBiYWlsIG91dCBhbmQgbGV0IG5leHRcbiAgICAgICAgICAgIC8vIGNvbW1hbmQgaGFuZGxlIGxpZnRpbmcuXG4gICAgICAgICAgICBpZiAoJGZyb20uZGVwdGggPT0gMyB8fCAkZnJvbS5ub2RlKC0zKS50eXBlICE9IGl0ZW1UeXBlIHx8XG4gICAgICAgICAgICAgICAgJGZyb20uaW5kZXgoLTIpICE9ICRmcm9tLm5vZGUoLTIpLmNoaWxkQ291bnQgLSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgICAgICAgICAgIGxldCB3cmFwID0gRnJhZ21lbnQuZW1wdHk7XG4gICAgICAgICAgICAgICAgbGV0IGRlcHRoQmVmb3JlID0gJGZyb20uaW5kZXgoLTEpID8gMSA6ICRmcm9tLmluZGV4KC0yKSA/IDIgOiAzO1xuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIGEgZnJhZ21lbnQgY29udGFpbmluZyBlbXB0eSB2ZXJzaW9ucyBvZiB0aGUgc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgLy8gZnJvbSB0aGUgb3V0ZXIgbGlzdCBpdGVtIHRvIHRoZSBwYXJlbnQgbm9kZSBvZiB0aGUgY3Vyc29yXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9ICRmcm9tLmRlcHRoIC0gZGVwdGhCZWZvcmU7IGQgPj0gJGZyb20uZGVwdGggLSAzOyBkLS0pXG4gICAgICAgICAgICAgICAgICAgIHdyYXAgPSBGcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZCkuY29weSh3cmFwKSk7XG4gICAgICAgICAgICAgICAgbGV0IGRlcHRoQWZ0ZXIgPSAkZnJvbS5pbmRleEFmdGVyKC0xKSA8ICRmcm9tLm5vZGUoLTIpLmNoaWxkQ291bnQgPyAxXG4gICAgICAgICAgICAgICAgICAgIDogJGZyb20uaW5kZXhBZnRlcigtMikgPCAkZnJvbS5ub2RlKC0zKS5jaGlsZENvdW50ID8gMiA6IDM7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgc2Vjb25kIGxpc3QgaXRlbSB3aXRoIGFuIGVtcHR5IGRlZmF1bHQgc3RhcnQgbm9kZVxuICAgICAgICAgICAgICAgIHdyYXAgPSB3cmFwLmFwcGVuZChGcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZUFuZEZpbGwoKSkpO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9ICRmcm9tLmJlZm9yZSgkZnJvbS5kZXB0aCAtIChkZXB0aEJlZm9yZSAtIDEpKTtcbiAgICAgICAgICAgICAgICBsZXQgdHIgPSBzdGF0ZS50ci5yZXBsYWNlKHN0YXJ0LCAkZnJvbS5hZnRlcigtZGVwdGhBZnRlciksIG5ldyBTbGljZSh3cmFwLCA0IC0gZGVwdGhCZWZvcmUsIDApKTtcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gLTE7XG4gICAgICAgICAgICAgICAgdHIuZG9jLm5vZGVzQmV0d2VlbihzdGFydCwgdHIuZG9jLmNvbnRlbnQuc2l6ZSwgKG5vZGUsIHBvcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmlzVGV4dGJsb2NrICYmIG5vZGUuY29udGVudC5zaXplID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwgPSBwb3MgKyAxO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzZWwgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgdHIuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKHNlbCkpKTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0VHlwZSA9ICR0by5wb3MgPT0gJGZyb20uZW5kKCkgPyBncmFuZFBhcmVudC5jb250ZW50TWF0Y2hBdCgwKS5kZWZhdWx0VHlwZSA6IG51bGw7XG4gICAgICAgIGxldCB0ciA9IHN0YXRlLnRyLmRlbGV0ZSgkZnJvbS5wb3MsICR0by5wb3MpO1xuICAgICAgICBsZXQgdHlwZXMgPSBuZXh0VHlwZSA/IFtpdGVtQXR0cnMgPyB7IHR5cGU6IGl0ZW1UeXBlLCBhdHRyczogaXRlbUF0dHJzIH0gOiBudWxsLCB7IHR5cGU6IG5leHRUeXBlIH1dIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIWNhblNwbGl0KHRyLmRvYywgJGZyb20ucG9zLCAyLCB0eXBlcykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChkaXNwYXRjaClcbiAgICAgICAgICAgIGRpc3BhdGNoKHRyLnNwbGl0KCRmcm9tLnBvcywgMiwgdHlwZXMpLnNjcm9sbEludG9WaWV3KCkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5BY3RzIGxpa2UgW2BzcGxpdExpc3RJdGVtYF0oaHR0cHM6Ly9wcm9zZW1pcnJvci5uZXQvZG9jcy9yZWYvI3NjaGVtYS1saXN0LnNwbGl0TGlzdEl0ZW0pLCBidXRcbndpdGhvdXQgcmVzZXR0aW5nIHRoZSBzZXQgb2YgYWN0aXZlIG1hcmtzIGF0IHRoZSBjdXJzb3IuXG4qL1xuZnVuY3Rpb24gc3BsaXRMaXN0SXRlbUtlZXBNYXJrcyhpdGVtVHlwZSwgaXRlbUF0dHJzKSB7XG4gICAgbGV0IHNwbGl0ID0gc3BsaXRMaXN0SXRlbShpdGVtVHlwZSwgaXRlbUF0dHJzKTtcbiAgICByZXR1cm4gKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICAgICAgICByZXR1cm4gc3BsaXQoc3RhdGUsIGRpc3BhdGNoICYmICh0ciA9PiB7XG4gICAgICAgICAgICBsZXQgbWFya3MgPSBzdGF0ZS5zdG9yZWRNYXJrcyB8fCAoc3RhdGUuc2VsZWN0aW9uLiR0by5wYXJlbnRPZmZzZXQgJiYgc3RhdGUuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkpO1xuICAgICAgICAgICAgaWYgKG1hcmtzKVxuICAgICAgICAgICAgICAgIHRyLmVuc3VyZU1hcmtzKG1hcmtzKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHRyKTtcbiAgICAgICAgfSkpO1xuICAgIH07XG59XG4vKipcbkNyZWF0ZSBhIGNvbW1hbmQgdG8gbGlmdCB0aGUgbGlzdCBpdGVtIGFyb3VuZCB0aGUgc2VsZWN0aW9uIHVwIGludG9cbmEgd3JhcHBpbmcgbGlzdC5cbiovXG5mdW5jdGlvbiBsaWZ0TGlzdEl0ZW0oaXRlbVR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgICAgICBsZXQgeyAkZnJvbSwgJHRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvLCBub2RlID0+IG5vZGUuY2hpbGRDb3VudCA+IDAgJiYgbm9kZS5maXJzdENoaWxkLnR5cGUgPT0gaXRlbVR5cGUpO1xuICAgICAgICBpZiAoIXJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRpc3BhdGNoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICgkZnJvbS5ub2RlKHJhbmdlLmRlcHRoIC0gMSkudHlwZSA9PSBpdGVtVHlwZSkgLy8gSW5zaWRlIGEgcGFyZW50IGxpc3RcbiAgICAgICAgICAgIHJldHVybiBsaWZ0VG9PdXRlckxpc3Qoc3RhdGUsIGRpc3BhdGNoLCBpdGVtVHlwZSwgcmFuZ2UpO1xuICAgICAgICBlbHNlIC8vIE91dGVyIGxpc3Qgbm9kZVxuICAgICAgICAgICAgcmV0dXJuIGxpZnRPdXRPZkxpc3Qoc3RhdGUsIGRpc3BhdGNoLCByYW5nZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGxpZnRUb091dGVyTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIGl0ZW1UeXBlLCByYW5nZSkge1xuICAgIGxldCB0ciA9IHN0YXRlLnRyLCBlbmQgPSByYW5nZS5lbmQsIGVuZE9mTGlzdCA9IHJhbmdlLiR0by5lbmQocmFuZ2UuZGVwdGgpO1xuICAgIGlmIChlbmQgPCBlbmRPZkxpc3QpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHNpYmxpbmdzIGFmdGVyIHRoZSBsaWZ0ZWQgaXRlbXMsIHdoaWNoIG11c3QgYmVjb21lXG4gICAgICAgIC8vIGNoaWxkcmVuIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgdHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoZW5kIC0gMSwgZW5kT2ZMaXN0LCBlbmQsIGVuZE9mTGlzdCwgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20oaXRlbVR5cGUuY3JlYXRlKG51bGwsIHJhbmdlLnBhcmVudC5jb3B5KCkpKSwgMSwgMCksIDEsIHRydWUpKTtcbiAgICAgICAgcmFuZ2UgPSBuZXcgTm9kZVJhbmdlKHRyLmRvYy5yZXNvbHZlKHJhbmdlLiRmcm9tLnBvcyksIHRyLmRvYy5yZXNvbHZlKGVuZE9mTGlzdCksIHJhbmdlLmRlcHRoKTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gbGlmdFRhcmdldChyYW5nZSk7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHIubGlmdChyYW5nZSwgdGFyZ2V0KTtcbiAgICBsZXQgJGFmdGVyID0gdHIuZG9jLnJlc29sdmUodHIubWFwcGluZy5tYXAoZW5kLCAtMSkgLSAxKTtcbiAgICBpZiAoY2FuSm9pbih0ci5kb2MsICRhZnRlci5wb3MpICYmICRhZnRlci5ub2RlQmVmb3JlLnR5cGUgPT0gJGFmdGVyLm5vZGVBZnRlci50eXBlKVxuICAgICAgICB0ci5qb2luKCRhZnRlci5wb3MpO1xuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbGlmdE91dE9mTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIHJhbmdlKSB7XG4gICAgbGV0IHRyID0gc3RhdGUudHIsIGxpc3QgPSByYW5nZS5wYXJlbnQ7XG4gICAgLy8gTWVyZ2UgdGhlIGxpc3QgaXRlbXMgaW50byBhIHNpbmdsZSBiaWcgaXRlbVxuICAgIGZvciAobGV0IHBvcyA9IHJhbmdlLmVuZCwgaSA9IHJhbmdlLmVuZEluZGV4IC0gMSwgZSA9IHJhbmdlLnN0YXJ0SW5kZXg7IGkgPiBlOyBpLS0pIHtcbiAgICAgICAgcG9zIC09IGxpc3QuY2hpbGQoaSkubm9kZVNpemU7XG4gICAgICAgIHRyLmRlbGV0ZShwb3MgLSAxLCBwb3MgKyAxKTtcbiAgICB9XG4gICAgbGV0ICRzdGFydCA9IHRyLmRvYy5yZXNvbHZlKHJhbmdlLnN0YXJ0KSwgaXRlbSA9ICRzdGFydC5ub2RlQWZ0ZXI7XG4gICAgaWYgKHRyLm1hcHBpbmcubWFwKHJhbmdlLmVuZCkgIT0gcmFuZ2Uuc3RhcnQgKyAkc3RhcnQubm9kZUFmdGVyLm5vZGVTaXplKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGF0U3RhcnQgPSByYW5nZS5zdGFydEluZGV4ID09IDAsIGF0RW5kID0gcmFuZ2UuZW5kSW5kZXggPT0gbGlzdC5jaGlsZENvdW50O1xuICAgIGxldCBwYXJlbnQgPSAkc3RhcnQubm9kZSgtMSksIGluZGV4QmVmb3JlID0gJHN0YXJ0LmluZGV4KC0xKTtcbiAgICBpZiAoIXBhcmVudC5jYW5SZXBsYWNlKGluZGV4QmVmb3JlICsgKGF0U3RhcnQgPyAwIDogMSksIGluZGV4QmVmb3JlICsgMSwgaXRlbS5jb250ZW50LmFwcGVuZChhdEVuZCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0KSkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHN0YXJ0ID0gJHN0YXJ0LnBvcywgZW5kID0gc3RhcnQgKyBpdGVtLm5vZGVTaXplO1xuICAgIC8vIFN0cmlwIG9mZiB0aGUgc3Vycm91bmRpbmcgbGlzdC4gQXQgdGhlIHNpZGVzIHdoZXJlIHdlJ3JlIG5vdCBhdFxuICAgIC8vIHRoZSBlbmQgb2YgdGhlIGxpc3QsIHRoZSBleGlzdGluZyBsaXN0IGlzIGNsb3NlZC4gQXQgc2lkZXMgd2hlcmVcbiAgICAvLyB0aGlzIGlzIHRoZSBlbmQsIGl0IGlzIG92ZXJ3cml0dGVuIHRvIGl0cyBlbmQuXG4gICAgdHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnQgLSAoYXRTdGFydCA/IDEgOiAwKSwgZW5kICsgKGF0RW5kID8gMSA6IDApLCBzdGFydCArIDEsIGVuZCAtIDEsIG5ldyBTbGljZSgoYXRTdGFydCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0LmNvcHkoRnJhZ21lbnQuZW1wdHkpKSlcbiAgICAgICAgLmFwcGVuZChhdEVuZCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0LmNvcHkoRnJhZ21lbnQuZW1wdHkpKSksIGF0U3RhcnQgPyAwIDogMSwgYXRFbmQgPyAwIDogMSksIGF0U3RhcnQgPyAwIDogMSkpO1xuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5DcmVhdGUgYSBjb21tYW5kIHRvIHNpbmsgdGhlIGxpc3QgaXRlbSBhcm91bmQgdGhlIHNlbGVjdGlvbiBkb3duXG5pbnRvIGFuIGlubmVyIGxpc3QuXG4qL1xuZnVuY3Rpb24gc2lua0xpc3RJdGVtKGl0ZW1UeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICAgICAgbGV0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0bywgbm9kZSA9PiBub2RlLmNoaWxkQ291bnQgPiAwICYmIG5vZGUuZmlyc3RDaGlsZC50eXBlID09IGl0ZW1UeXBlKTtcbiAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSByYW5nZS5zdGFydEluZGV4O1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgcGFyZW50ID0gcmFuZ2UucGFyZW50LCBub2RlQmVmb3JlID0gcGFyZW50LmNoaWxkKHN0YXJ0SW5kZXggLSAxKTtcbiAgICAgICAgaWYgKG5vZGVCZWZvcmUudHlwZSAhPSBpdGVtVHlwZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICAgICAgICBsZXQgbmVzdGVkQmVmb3JlID0gbm9kZUJlZm9yZS5sYXN0Q2hpbGQgJiYgbm9kZUJlZm9yZS5sYXN0Q2hpbGQudHlwZSA9PSBwYXJlbnQudHlwZTtcbiAgICAgICAgICAgIGxldCBpbm5lciA9IEZyYWdtZW50LmZyb20obmVzdGVkQmVmb3JlID8gaXRlbVR5cGUuY3JlYXRlKCkgOiBudWxsKTtcbiAgICAgICAgICAgIGxldCBzbGljZSA9IG5ldyBTbGljZShGcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZShudWxsLCBGcmFnbWVudC5mcm9tKHBhcmVudC50eXBlLmNyZWF0ZShudWxsLCBpbm5lcikpKSksIG5lc3RlZEJlZm9yZSA/IDMgOiAxLCAwKTtcbiAgICAgICAgICAgIGxldCBiZWZvcmUgPSByYW5nZS5zdGFydCwgYWZ0ZXIgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICBkaXNwYXRjaChzdGF0ZS50ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChiZWZvcmUgLSAobmVzdGVkQmVmb3JlID8gMyA6IDEpLCBhZnRlciwgYmVmb3JlLCBhZnRlciwgc2xpY2UsIDEsIHRydWUpKVxuICAgICAgICAgICAgICAgIC5zY3JvbGxJbnRvVmlldygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBhZGRMaXN0Tm9kZXMsIGJ1bGxldExpc3QsIGxpZnRMaXN0SXRlbSwgbGlzdEl0ZW0sIG9yZGVyZWRMaXN0LCBzaW5rTGlzdEl0ZW0sIHNwbGl0TGlzdEl0ZW0sIHNwbGl0TGlzdEl0ZW1LZWVwTWFya3MsIHdyYXBJbkxpc3QsIHdyYXBSYW5nZUluTGlzdCB9O1xuIl0sIm5hbWVzIjpbImZpbmRXcmFwcGluZyIsIlJlcGxhY2VBcm91bmRTdGVwIiwiY2FuU3BsaXQiLCJsaWZ0VGFyZ2V0IiwiY2FuSm9pbiIsIk5vZGVSYW5nZSIsIkZyYWdtZW50IiwiU2xpY2UiLCJTZWxlY3Rpb24iLCJvbERPTSIsInVsRE9NIiwibGlET00iLCJvcmRlcmVkTGlzdCIsImF0dHJzIiwib3JkZXIiLCJ2YWxpZGF0ZSIsInBhcnNlRE9NIiwidGFnIiwiZ2V0QXR0cnMiLCJkb20iLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJ0b0RPTSIsIm5vZGUiLCJzdGFydCIsImJ1bGxldExpc3QiLCJsaXN0SXRlbSIsImRlZmluaW5nIiwiYWRkIiwib2JqIiwicHJvcHMiLCJjb3B5IiwicHJvcCIsImFkZExpc3ROb2RlcyIsIm5vZGVzIiwiaXRlbUNvbnRlbnQiLCJsaXN0R3JvdXAiLCJhcHBlbmQiLCJvcmRlcmVkX2xpc3QiLCJjb250ZW50IiwiZ3JvdXAiLCJidWxsZXRfbGlzdCIsImxpc3RfaXRlbSIsIndyYXBJbkxpc3QiLCJsaXN0VHlwZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInN0YXRlIiwiZGlzcGF0Y2giLCJfc3RhdGUkc2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiJGZyb20iLCIkdG8iLCJyYW5nZSIsImJsb2NrUmFuZ2UiLCJ0ciIsIndyYXBSYW5nZUluTGlzdCIsInNjcm9sbEludG9WaWV3IiwiZG9Kb2luIiwib3V0ZXJSYW5nZSIsImRvYyIsImRlcHRoIiwidHlwZSIsImNvbXBhdGlibGVDb250ZW50Iiwic3RhcnRJbmRleCIsImluZGV4IiwiJGluc2VydCIsInJlc29sdmUiLCJlbmRJbmRleCIsInBhcmVudCIsImNoaWxkQ291bnQiLCJlbmQiLCJ3cmFwIiwiZG9XcmFwSW5MaXN0Iiwid3JhcHBlcnMiLCJqb2luQmVmb3JlIiwiZW1wdHkiLCJpIiwiZnJvbSIsImNyZWF0ZSIsInN0ZXAiLCJmb3VuZCIsInNwbGl0RGVwdGgiLCJzcGxpdFBvcyIsImUiLCJmaXJzdCIsInNwbGl0IiwiY2hpbGQiLCJub2RlU2l6ZSIsInNwbGl0TGlzdEl0ZW0iLCJpdGVtVHlwZSIsIml0ZW1BdHRycyIsIl9zdGF0ZSRzZWxlY3Rpb24yIiwiaXNCbG9jayIsInNhbWVQYXJlbnQiLCJncmFuZFBhcmVudCIsInNpemUiLCJpbmRleEFmdGVyIiwiZGVwdGhCZWZvcmUiLCJkIiwiZGVwdGhBZnRlciIsImNyZWF0ZUFuZEZpbGwiLCJiZWZvcmUiLCJyZXBsYWNlIiwiYWZ0ZXIiLCJzZWwiLCJub2Rlc0JldHdlZW4iLCJwb3MiLCJpc1RleHRibG9jayIsInNldFNlbGVjdGlvbiIsIm5lYXIiLCJuZXh0VHlwZSIsImNvbnRlbnRNYXRjaEF0IiwiZGVmYXVsdFR5cGUiLCJ0eXBlcyIsInNwbGl0TGlzdEl0ZW1LZWVwTWFya3MiLCJtYXJrcyIsInN0b3JlZE1hcmtzIiwicGFyZW50T2Zmc2V0IiwiZW5zdXJlTWFya3MiLCJsaWZ0TGlzdEl0ZW0iLCJfc3RhdGUkc2VsZWN0aW9uMyIsImZpcnN0Q2hpbGQiLCJsaWZ0VG9PdXRlckxpc3QiLCJsaWZ0T3V0T2ZMaXN0IiwiZW5kT2ZMaXN0IiwidGFyZ2V0IiwibGlmdCIsIiRhZnRlciIsIm1hcHBpbmciLCJtYXAiLCJub2RlQmVmb3JlIiwibm9kZUFmdGVyIiwiam9pbiIsImxpc3QiLCIkc3RhcnQiLCJpdGVtIiwiYXRTdGFydCIsImF0RW5kIiwiaW5kZXhCZWZvcmUiLCJjYW5SZXBsYWNlIiwic2lua0xpc3RJdGVtIiwiX3N0YXRlJHNlbGVjdGlvbjQiLCJuZXN0ZWRCZWZvcmUiLCJsYXN0Q2hpbGQiLCJpbm5lciIsInNsaWNlIl0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/prosemirror-schema-list/dist/index.js\n");

/***/ })

};
;